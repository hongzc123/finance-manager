"use strict";(self.webpackChunkdemo=self.webpackChunkdemo||[]).push([[310],{7326:function(e,t,a){a.r(t),a.d(t,{default:function(){return h}});var i=a(8265),n=a(9087);const r={attrs:{align:"center"},items:Object.freeze([{prop:"birthday",label:"出生日期",filter:"convertDate"},{prop:"name",label:"姓名"},{prop:"identity_card",label:"身份证号"},{prop:"operation",label:"操作"}])},l={items:[[{label:"id",type:"text",key:"id",value:"?"},{label:"姓名",type:"text",key:"name",value:"?"},{label:"出生日期",type:"text",key:"birthday",value:"?"},{label:"性别",type:"text",key:"sex",value:"?"},{label:"教育程度",type:"text",key:"education",value:"?"},{label:"地址",type:"text",key:"address1",value:"?"},{label:"手机号",type:"text",key:"mobile_phone",value:"?"},{label:"身份证",type:"text",key:"identity_card",value:"?"}].map((e=>({...e,attrs:{disabled:!0}})))]};var o=a(7877),s=a(2325),c=a(311),p=a.n(c);const d=(e,t)=>{const a=(0,s.I8)(e);return a.forEach((e=>{e.forEach((e=>{let a=e.key;if(t[a]&&(e.value=t[a]),"birthday"===a){const i=p().filter("convertDate");e.value=i(t[a])}}))})),a};var u={mixins:[i.Z,n.Z],data(){return{tableAttrs:{stripe:!1,colType:"index"},columns:r,visible:!1,viewConf:null}},methods:{getOption(){return{read:{url:"/approve/first/list",method:"get"}}},async showView(e){this.visible=!0;const t=await(0,o.iF)(e);this.viewConf={...l,items:d(l.items,t.data.data)},this.viewConf},cancel(){this.visible=!1},async passCase(e){await(0,o.fE)(e),this.load()},async rejectCase(e){await(0,o.lG)(e),this.load()}}},h=(0,a(1001).Z)(u,(function(){var e=this,t=e._self._c;return t("div",[t("GQuery",{staticStyle:{"margin-bottom":"20px"},attrs:{placeholder:"请输入查询条件",clearable:""},on:{change:function(t){return e.changeQuery(t)}}}),t("GTable",{attrs:{data:e.tableData,columns:e.columns,tableAttrs:e.tableAttrs,pager:e.pager},on:{"size-change":e.sizeChange,"current-change":e.currentChange},scopedSlots:e._u([{key:"operation",fn:function({row:a}){return[t("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){return e.showView(a.id)}}},[e._v("查看")]),t("GNotifyBtn",{attrs:{size:"mini",type:"success",msg:"是否确定结案?"},on:{click:function(t){return e.passCase(a.id)}}},[e._v("结案")]),t("GNotifyBtn",{attrs:{size:"mini",type:"danger",msg:"是否确定拒绝立案?"},on:{click:function(t){return e.rejectCase(a.id)}}},[e._v("拒绝立案")])]}}])}),t("el-dialog",{attrs:{title:"救助情况-查看详情",width:"50%",visible:e.visible,"destroy-on-close":""},on:{"update:visible":function(t){e.visible=t}}},[e.viewConf?t("GFormCreated",{key:Math.random(),attrs:{conf:e.viewConf},scopedSlots:e._u([{key:"default",fn:function(){return[t("div",{staticStyle:{display:"flex","align-items":"center",width:"100%"}},[t("div",{staticStyle:{margin:"0 auto"}},[t("el-button",{on:{click:e.cancel}},[e._v("取消")])],1)])]},proxy:!0}],null,!1,14225222)}):e._e()],1)],1)}),[],!1,null,null,null).exports},8265:function(e,t,a){var i=a(8431);t.Z={data(){return{loading:!1}},methods:{getOption(){return!1},checkOption(){const e=this.getOption();if(!e)throw new Error("混入crud组件必须覆写getOption方法");return e},async load(){this.loading=!0;const e=await(0,i.W)({...this.checkOption().read,params:{...this.pager,rows:void 0}});this.loading=!1,this.tableData=e.data.list,this.pager.rows=e.data.pager.rows},async update(e){const t=await(0,i.W)({...this.checkOption().update,data:e});return await this.load(),t},async delete(e){let{del:t}=this.checkOption();const a=await(0,i.W)({...t,url:t.url+"/"+e});return await this.load(),a},async create(e){const t=await(0,i.W)({...this.checkOption().create,data:{id:e}});return await this.load(),t}},created(){this.load()}}},9087:function(e,t,a){var i=a(8253);t.Z={created(){},beforeDestroy(){},data(){return{pager:{...i.h,pageSizes:void 0},tableData:[]}},methods:{changeQuery(e){this.$set(this.pager,"name",e),this.pager.pageNo=1,this.load()},sizeChange(e){this.pager.pageSize=e,this.pager.pageNo=1,this.load()},currentChange(e){this.pager.pageNo=e,this.load()}}}},8253:function(e,t,a){a.d(t,{h:function(){return n},z:function(){return i}});const i={items:Object.freeze([{prop:"birthday",label:"出生日期",width:120,filter:"convertDate"},{prop:"name",label:"姓名",width:120},{label:"性别",prop:"sex",filter:"common"},{prop:"education",label:"教育程度",filter:"common"},{prop:"address1",label:"居住地址"},{prop:"mobile_phone",label:"手机号"},{label:"案件状态",prop:"status",width:100},{label:"操作",prop:"operation",width:300,slot:!0},{label:"配送信息",children:[{label:"地址",children:[{label:"省份",prop:"name"},{label:"市区"},{label:"街道",prop:"address"}]}]},{width:400,label:"备注信息",prop:"name",filter:"common",html(e){return`<div>\n                <h2>${e.row.name}这是自定义html</h2>\n                <button>按钮</button>\n              </div>`}}])},n={pageNo:1,pageSize:10,pageSizes:[10,20,30,40]}}}]);