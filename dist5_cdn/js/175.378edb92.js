"use strict";(self.webpackChunkdemo=self.webpackChunkdemo||[]).push([[175],{3175:function(t,e,a){a.r(e),a.d(e,{default:function(){return d}});var n=a(8253),i=a(7877),o=a(9087),r=a(8265),s=a(2325),l=a(3573),c={mixins:[o.Z,r.Z],data(){return{tableAttrs:{stripe:!1,colType:"selection"},columns:n.z,editConf:null,visible:!1}},computed:{showList(){return this.tableData}},methods:{getOption(){return{read:{url:"/loan/list",method:"get"},del:{url:"/loan/delete",method:"delete",loading:!0},update:{url:"/loan/update",method:"put",loading:!0}}},handleChange(t){this.pager.name=t,this.pager.pageNo=1,this.load()},cellClick(t){},showEdit(t){this.visible=!0,this.rowData=(0,s.I8)(t),this.editConf={items:[[{label:"姓名",key:"name",value:t.name,type:"text"},{label:"性别",key:"sex",value:t.sex,type:"select",options:l.dM}]]}},async onSave(t){this.visible=!1,Object.assign(this.rowData,t),this.rowData;await this.update(this.rowData)},doDelete(t){this.delete(t.id)},async doSubmit(t){const{data:e}=await(0,i.kS)(t.id);2e4===e.code&&await this.load()},selectionChange(t){}}},d=(0,a(1001).Z)(c,(function(){var t=this,e=t._self._c;return e("div",[e("GQuery",{staticStyle:{"margin-bottom":"20px"},attrs:{placeholder:"请输入查询条件",clearable:""},on:{change:function(e){return t.changeQuery(e)}},scopedSlots:t._u([{key:"default",fn:function({query:a}){return[e("el-button",{staticStyle:{"margin-left":"20px"},attrs:{type:"primary",size:"default"},on:{click:function(e){return t.changeQuery(a)}}},[t._v("查询")])]}}])}),e("GTable",{ref:"table",attrs:{data:t.showList,tableAttrs:t.tableAttrs,columns:t.columns,pager:t.pager},on:{"cell-click":t.cellClick,"size-change":t.sizeChange,"current-change":t.currentChange,"selection-change":t.selectionChange},scopedSlots:t._u([{key:"operation",fn:function({row:a}){return[e("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(e){return t.showEdit(a)}}},[t._v("编辑")]),e("GNotifyBtn",{attrs:{size:"mini",type:"danger",msg:"是否确定删除？"},on:{click:function(e){return t.doDelete(a)}}},[t._v("删除")]),e("GNotifyBtn",{attrs:{size:"mini",type:"success",msg:"是否确定提交？"},on:{click:function(e){return t.doSubmit(a)}}},[t._v("提交审核")])]}},{key:"status",fn:function(a){return[e("el-tag",{attrs:{type:t._f("common")(a.row.status,"statusColor")}},[t._v(" "+t._s(t._f("common")(a.row.status,"status"))+" ")])]}},{key:"append",fn:function(){return[e("h2",{staticStyle:{display:"flex","justify-content":"space-between",padding:"10px"}},[e("span",[t._v("行尾")]),e("span",[t._v("合计: 123")])])]},proxy:!0}])}),e("el-dialog",{attrs:{title:"案件申请-编辑",width:"30%",visible:t.visible,"destroy-on-close":""},on:{"update:visible":function(e){t.visible=e}}},[e("GFormCreated",{key:Math.random(),attrs:{conf:t.editConf},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",{staticStyle:{display:"flex","align-items":"center",width:"100%"}},[e("div",{staticStyle:{margin:"0 auto"}},[e("GNotifyBtn",{attrs:{type:"primary"},on:{click:function(e){return t.onSave(a)}}},[t._v("保存")])],1)])]}}])})],1)],1)}),[],!1,null,"7a5e9ffd",null).exports},8265:function(t,e,a){var n=a(8431);e.Z={data(){return{loading:!1}},methods:{getOption(){return!1},checkOption(){const t=this.getOption();if(!t)throw new Error("混入crud组件必须覆写getOption方法");return t},async load(){this.loading=!0;const t=await(0,n.W)({...this.checkOption().read,params:{...this.pager,rows:void 0}});this.loading=!1,this.tableData=t.data.list,this.pager.rows=t.data.pager.rows},async update(t){const e=await(0,n.W)({...this.checkOption().update,data:t});return await this.load(),e},async delete(t){let{del:e}=this.checkOption();const a=await(0,n.W)({...e,url:e.url+"/"+t});return await this.load(),a},async create(t){const e=await(0,n.W)({...this.checkOption().create,data:{id:t}});return await this.load(),e}},created(){this.load()}}},9087:function(t,e,a){var n=a(8253);e.Z={created(){},beforeDestroy(){},data(){return{pager:{...n.h,pageSizes:void 0},tableData:[]}},methods:{changeQuery(t){this.$set(this.pager,"name",t),this.pager.pageNo=1,this.load()},sizeChange(t){this.pager.pageSize=t,this.pager.pageNo=1,this.load()},currentChange(t){this.pager.pageNo=t,this.load()}}}},8253:function(t,e,a){a.d(e,{h:function(){return i},z:function(){return n}});const n={items:Object.freeze([{prop:"birthday",label:"出生日期",width:120,filter:"convertDate"},{prop:"name",label:"姓名",width:120},{label:"性别",prop:"sex",filter:"common"},{prop:"education",label:"教育程度",filter:"common"},{prop:"address1",label:"居住地址"},{prop:"mobile_phone",label:"手机号"},{label:"案件状态",prop:"status",width:100},{label:"操作",prop:"operation",width:300,slot:!0},{label:"配送信息",children:[{label:"地址",children:[{label:"省份",prop:"name"},{label:"市区"},{label:"街道",prop:"address"}]}]},{width:400,label:"备注信息",prop:"name",filter:"common",html(t){return`<div>\n                <h2>${t.row.name}这是自定义html</h2>\n                <button>按钮</button>\n              </div>`}}])},i={pageNo:1,pageSize:10,pageSizes:[10,20,30,40]}}}]);